{"ast":null,"code":"var _jsxFileName = \"E:\\\\DuiPangres\\\\frontend\\\\src\\\\screens\\\\AddBusiness.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useEffect, useReducer, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { getError } from '../utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'FETCH_REQUEST':\n      return { ...state,\n        loading: true\n      };\n\n    case 'FETCH_SUCCESS':\n      return { ...state,\n        loading: false\n      };\n\n    case 'FETCH_FAIL':\n      return { ...state,\n        loading: false,\n        error: action.payload\n      };\n\n    case 'UPDATE_REQUEST':\n      return { ...state,\n        loadingUpdate: true\n      };\n\n    case 'UPDATE_SUCCESS':\n      return { ...state,\n        loadingUpdate: false\n      };\n\n    case 'UPDATE_FAIL':\n      return { ...state,\n        loadingUpdate: false\n      };\n\n    case 'UPLOAD_REQUEST':\n      return { ...state,\n        loadingUpload: true,\n        errorUpload: ''\n      };\n\n    case 'UPLOAD_SUCCESS':\n      return { ...state,\n        loadingUpload: false,\n        errorUpload: ''\n      };\n\n    case 'UPLOAD_FAIL':\n      return { ...state,\n        loadingUpload: false,\n        errorUpload: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default function AddBusiness() {\n  _s();\n\n  const navigate = useNavigate();\n  const params = useParams();\n  const {\n    id: businessId\n  } = params;\n  const [{\n    loading,\n    error,\n    loadingUpdate,\n    loadingUpload\n  }, dispatch] = useReducer(reducer, {\n    loading: true,\n    error: ''\n  });\n  const [name, setName] = useState('');\n  const [address, setAddress] = useState('');\n  const [image, setImage] = useState('');\n  const [description, setDescription] = useState('');\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        dispatch({\n          type: 'FETCH_REQUEST'\n        });\n        const {\n          data\n        } = await axios.get(`/api/business/${businessId}`);\n        setName(data.name);\n        setImage(data.image);\n        setAddress(data.address);\n        setDescription(data.description);\n        dispatch({\n          type: 'FETCH_SUCCESS'\n        });\n      } catch (err) {\n        dispatch({\n          type: 'FETCH_FAIL',\n          payload: getError(err)\n        });\n      }\n    };\n\n    fetchData();\n  }, [businessId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"img-large\",\n          src: selectedImage || product.image,\n          alt: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(ListGroup, {\n          variant: \"flush\",\n          children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            children: [/*#__PURE__*/_jsxDEV(Helmet, {\n              children: /*#__PURE__*/_jsxDEV(\"title\", {\n                children: product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: product.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            children: /*#__PURE__*/_jsxDEV(Rating, {\n              rating: product.rating,\n              numReviews: product.numReviews\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            children: [\"Pirce : $\", product.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              xs: 1,\n              md: 2,\n              className: \"g-2\",\n              children: [product.image, ...product.images].map(x => /*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(Card, {\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    className: \"thumbnail\",\n                    type: \"button\",\n                    variant: \"light\",\n                    onClick: () => setSelectedImage(x),\n                    children: /*#__PURE__*/_jsxDEV(Card.Img, {\n                      variant: \"top\",\n                      src: x,\n                      alt: \"product\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 111,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 19\n                }, this)\n              }, x, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 17\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            children: [\"Description:\", /*#__PURE__*/_jsxDEV(\"p\", {\n              children: product.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: /*#__PURE__*/_jsxDEV(ListGroup, {\n              variant: \"flush\",\n              children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: \"Price:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 130,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: [\"$\", product.price]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 131,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: \"Status:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: product.countInStock > 0 ? /*#__PURE__*/_jsxDEV(Badge, {\n                      bg: \"success\",\n                      children: \"In Stock\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 139,\n                      columnNumber: 23\n                    }, this) : /*#__PURE__*/_jsxDEV(Badge, {\n                      bg: \"danger\",\n                      children: \"Unavailable\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 141,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 137,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 15\n              }, this), product.countInStock > 0 && /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-grid\",\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    onClick: addToCartHandler,\n                    variant: \"primary\",\n                    children: \"Add to Cart\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"my-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        ref: reviewsRef,\n        children: \"Reviews\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: product.reviews.length === 0 && /*#__PURE__*/_jsxDEV(MessageBox, {\n          children: \"There is no review\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n        children: product.reviews.map(review => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: review.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Rating, {\n            rating: review.rating,\n            caption: \" \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: review.createdAt.substring(0, 10)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: review.comment\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)]\n        }, review._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"my-3\",\n        children: userInfo ? /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: submitHandler,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Rate & review\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"rating\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Rating\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n              \"aria-label\": \"Rating\",\n              value: rating,\n              onChange: e => setRating(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"1\",\n                children: \"1- Poor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"2\",\n                children: \"2- Fair\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"3\",\n                children: \"3- Good\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"4\",\n                children: \"4- Very good\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"5\",\n                children: \"5- Excellent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FloatingLabel, {\n            controlId: \"floatingTextarea\",\n            label: \"Comments\",\n            className: \"mb-3\",\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"textarea\",\n              placeholder: \"Leave a comment here\",\n              value: comment,\n              onChange: e => setComment(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              disabled: loadingCreateReview,\n              type: \"submit\",\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this), loadingCreateReview && /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 39\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(MessageBox, {\n          children: [\"Please\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n            to: `/signin?redirect=/product/${product.slug}`,\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), ' ', \"to write a review\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AddBusiness, \"kXRwIQ6/tM1TVXo3WhTH6iDIAuY=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = AddBusiness;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddBusiness\");","map":{"version":3,"sources":["E:/DuiPangres/frontend/src/screens/AddBusiness.js"],"names":["axios","React","useEffect","useReducer","useState","useNavigate","useParams","getError","reducer","state","action","type","loading","error","payload","loadingUpdate","loadingUpload","errorUpload","AddBusiness","navigate","params","id","businessId","dispatch","name","setName","address","setAddress","image","setImage","description","setDescription","fetchData","data","get","err","selectedImage","product","rating","numReviews","price","images","map","x","setSelectedImage","countInStock","addToCartHandler","reviewsRef","reviews","length","review","createdAt","substring","comment","_id","userInfo","submitHandler","e","setRating","target","value","setComment","loadingCreateReview","slug"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect, useReducer, useState } from 'react'\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { getError } from '../utils';\r\n\r\n\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_REQUEST':\r\n      return { ...state, loading: true };\r\n    case 'FETCH_SUCCESS':\r\n      return { ...state, loading: false };\r\n    case 'FETCH_FAIL':\r\n      return { ...state, loading: false, error: action.payload };\r\n    case 'UPDATE_REQUEST':\r\n      return { ...state, loadingUpdate: true };\r\n    case 'UPDATE_SUCCESS':\r\n      return { ...state, loadingUpdate: false };\r\n    case 'UPDATE_FAIL':\r\n      return { ...state, loadingUpdate: false };\r\n    case 'UPLOAD_REQUEST':\r\n      return { ...state, loadingUpload: true, errorUpload: '' };\r\n    case 'UPLOAD_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loadingUpload: false,\r\n        errorUpload: '',\r\n      };\r\n    case 'UPLOAD_FAIL':\r\n      return { ...state, loadingUpload: false, errorUpload: action.payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default function AddBusiness() {\r\n\r\n  const navigate = useNavigate();\r\n  const params = useParams();\r\n  const { id: businessId } = params;\r\n\r\n  const [{ loading, error, loadingUpdate, loadingUpload }, dispatch] =\r\n  useReducer(reducer, {\r\n    loading: true,\r\n    error: '',\r\n  });\r\n\r\n\r\n  const [name, setName] = useState('');\r\n  const [address, setAddress] = useState('');\r\n  const [image, setImage] = useState('');\r\n  const [description, setDescription] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        dispatch({ type: 'FETCH_REQUEST' });\r\n        const { data } = await axios.get(`/api/business/${businessId}`);\r\n        setName(data.name);    \r\n        setImage(data.image);\r\n        setAddress(data.address);\r\n        setDescription(data.description);\r\n        dispatch({ type: 'FETCH_SUCCESS' });\r\n      } catch (err) {\r\n        dispatch({\r\n          type: 'FETCH_FAIL',\r\n          payload: getError(err),\r\n        });\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [businessId]);\r\n\r\n  return (\r\n    <div>\r\n    <Row>\r\n      <Col md={6}>\r\n        <img\r\n          className=\"img-large\"\r\n          src={selectedImage || product.image}\r\n          alt={product.name}\r\n        ></img>\r\n      </Col>\r\n      <Col md={3}>\r\n        <ListGroup variant=\"flush\">\r\n          <ListGroup.Item>\r\n            <Helmet>\r\n              <title>{product.name}</title>\r\n            </Helmet>\r\n            <h1>{product.name}</h1>\r\n          </ListGroup.Item>\r\n          <ListGroup.Item>\r\n            <Rating\r\n              rating={product.rating}\r\n              numReviews={product.numReviews}\r\n            ></Rating>\r\n          </ListGroup.Item>\r\n          <ListGroup.Item>Pirce : ${product.price}</ListGroup.Item>\r\n          <ListGroup.Item>\r\n            <Row xs={1} md={2} className=\"g-2\">\r\n              {[product.image, ...product.images].map((x) => (\r\n                <Col key={x}>\r\n                  <Card>\r\n                    <Button\r\n                      className=\"thumbnail\"\r\n                      type=\"button\"\r\n                      variant=\"light\"\r\n                      onClick={() => setSelectedImage(x)}\r\n                    >\r\n                      <Card.Img variant=\"top\" src={x} alt=\"product\" />\r\n                    </Button>\r\n                  </Card>\r\n                </Col>\r\n              ))}\r\n            </Row>\r\n          </ListGroup.Item>\r\n          <ListGroup.Item>\r\n            Description:\r\n            <p>{product.description}</p>\r\n          </ListGroup.Item>\r\n        </ListGroup>\r\n      </Col>\r\n      <Col md={3}>\r\n        <Card>\r\n          <Card.Body>\r\n            <ListGroup variant=\"flush\">\r\n              <ListGroup.Item>\r\n                <Row>\r\n                  <Col>Price:</Col>\r\n                  <Col>${product.price}</Col>\r\n                </Row>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <Row>\r\n                  <Col>Status:</Col>\r\n                  <Col>\r\n                    {product.countInStock > 0 ? (\r\n                      <Badge bg=\"success\">In Stock</Badge>\r\n                    ) : (\r\n                      <Badge bg=\"danger\">Unavailable</Badge>\r\n                    )}\r\n                  </Col>\r\n                </Row>\r\n              </ListGroup.Item>\r\n\r\n\r\n\r\n              \r\n\r\n              {product.countInStock > 0 && (\r\n                <ListGroup.Item>\r\n                  <div className=\"d-grid\">\r\n                    <Button onClick={addToCartHandler} variant=\"primary\">\r\n                      Add to Cart\r\n                    </Button>\r\n                  </div>\r\n                </ListGroup.Item>\r\n              )}\r\n            </ListGroup>\r\n          </Card.Body>\r\n        </Card>\r\n      </Col>\r\n    </Row>\r\n    <div className=\"my-3\">\r\n      <h2 ref={reviewsRef}>Reviews</h2>\r\n      <div className=\"mb-3\">\r\n        {product.reviews.length === 0 && (\r\n          <MessageBox>There is no review</MessageBox>\r\n        )}\r\n      </div>\r\n      <ListGroup>\r\n        {product.reviews.map((review) => (\r\n          <ListGroup.Item key={review._id}>\r\n            <strong>{review.name}</strong>\r\n            <Rating rating={review.rating} caption=\" \"></Rating>\r\n            <p>{review.createdAt.substring(0, 10)}</p>\r\n            <p>{review.comment}</p>\r\n          </ListGroup.Item>\r\n        ))}\r\n      </ListGroup>\r\n      <div className=\"my-3\">\r\n        {userInfo ? (\r\n          <form onSubmit={submitHandler}>\r\n            <h2>Rate & review</h2>\r\n            <Form.Group className=\"mb-3\" controlId=\"rating\">\r\n              <Form.Label>Rating</Form.Label>\r\n              <Form.Select\r\n                aria-label=\"Rating\"\r\n                value={rating}\r\n                onChange={(e) => setRating(e.target.value)}\r\n              >\r\n                <option value=\"\">Select...</option>\r\n                <option value=\"1\">1- Poor</option>\r\n                <option value=\"2\">2- Fair</option>\r\n                <option value=\"3\">3- Good</option>\r\n                <option value=\"4\">4- Very good</option>\r\n                <option value=\"5\">5- Excellent</option>\r\n              </Form.Select>\r\n            </Form.Group>\r\n            <FloatingLabel\r\n              controlId=\"floatingTextarea\"\r\n              label=\"Comments\"\r\n              className=\"mb-3\"\r\n            >\r\n              <Form.Control\r\n                as=\"textarea\"\r\n                placeholder=\"Leave a comment here\"\r\n                value={comment}\r\n                onChange={(e) => setComment(e.target.value)}\r\n              />\r\n            </FloatingLabel>\r\n\r\n            <div className=\"mb-3\">\r\n              <Button disabled={loadingCreateReview} type=\"submit\">\r\n                Submit\r\n              </Button>\r\n              {loadingCreateReview && <LoadingBox></LoadingBox>}\r\n            </div>\r\n          </form>\r\n        ) : (\r\n          <MessageBox>\r\n            Please{' '}\r\n            <Link to={`/signin?redirect=/product/${product.slug}`}>\r\n              Sign In\r\n            </Link>{' '}\r\n            to write a review\r\n          </MessageBox>\r\n        )}\r\n      </div>\r\n    </div>\r\n  </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}